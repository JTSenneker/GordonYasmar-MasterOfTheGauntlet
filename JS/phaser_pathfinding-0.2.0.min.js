Phaser.Plugin.PathFinderPlugin=function(t){if("object"!=typeof EasyStar)throw new Error("Easystar is not defined!");this.parent=t,this._easyStar=new EasyStar.js,this._grid=null,this._callback=null,this._prepared=!1,this._walkables=[0]},Phaser.Plugin.PathFinderPlugin.prototype=Object.create(Phaser.Plugin.prototype),Phaser.Plugin.PathFinderPlugin.prototype.constructor=Phaser.Plugin.PathFinderPlugin,Phaser.Plugin.PathFinderPlugin.prototype.setGrid=function(t,a,e){e=e||null,this._grid=[];for(var i=0;i<t.length;i++){this._grid[i]=[];for(var r=0;r<t[i].length;r++)this._grid[i][r]=t[i][r]?t[i][r].index:0}for(this._walkables=a,this._easyStar.setGrid(this._grid),this._easyStar.setAcceptableTiles(this._walkables),i=0;i<a.length;i++)this.setTileCost(a[i],1);null!==e&&this._easyStar.setIterationsPerCalculation(e)},Phaser.Plugin.PathFinderPlugin.prototype.setTileCost=function(t,a){this._easyStar.setTileCost(t,a)},Phaser.Plugin.PathFinderPlugin.prototype.setCallbackFunction=function(t){this._callback=t},Phaser.Plugin.PathFinderPlugin.prototype.preparePathCalculation=function(t,a){if(null===this._callback||"function"!=typeof this._callback)throw new Error("No Callback set!");var e=t[0],i=t[1],r=a[0],l=a[1];this._easyStar.findPath(e,i,r,l,this._callback),this._prepared=!0},Phaser.Plugin.PathFinderPlugin.prototype.calculatePath=function(){if(null===this._prepared)throw new Error("no Calculation prepared!");this._easyStar.calculate()};